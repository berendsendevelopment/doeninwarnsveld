{% extends 'base.html' %}
{% block title %}Activiteitenbeheer{% endblock %}
{% block content %}
<h1 class="text-2xl font-bold mb-4">Activiteitenbeheer</h1>
<form method="POST" class="mb-6 space-y-2">
    <input name="title" placeholder="Titel" class="w-full p-2 border rounded" required>
    <input name="date" type="date" class="w-full p-2 border rounded" required>
    <textarea name="description" id="editor" placeholder="Omschrijving" class="w-full p-2 border rounded"
        required></textarea>
    <input name="link" type="url" placeholder="Optionele link (https://...)" class="w-full p-2 border rounded">
    <button class="bg-blue-500 text-white px-4 py-2 rounded">Toevoegen</button>
</form>
<ul class="space-y-4">
    {% for item in activities %}
    <li class="bg-white p-4 rounded shadow">
        <h2 class="text-xl font-semibold">{{ item[1] }}</h2>
        <p class="text-sm text-blue-600 mt-2 mb-2">Datum: {{ item[2] | datetimeformat }}</p>
        <p class="text-gray-600 text-sm">Door: {{ item[4] }}</p>
        <p class="text-gray-800">{{ item[1] }}</p>
        {% if item[5] %}
        <a href="{{ item[5] }}" target="_blank"
            class="inline-block mt-2 bg-blue-500 hover:bg-blue-600 text-white text-sm px-4 py-2 rounded">
            Meer informatie
        </a>
        {% endif %}
        {% if item[4] == session.org %}
        <div class="mt-2">
            <a href="/activities/edit/{{ item[0] }}" class="text-blue-500 hover:underline">Bewerken</a>
            <form method="POST" action="/activities/delete/{{ item[0] }}" class="inline ml-2">
                <button onclick="return confirm('Verwijderen?')"
                    class="text-red-500 hover:underline">Verwijderen</button>
            </form>
        </div>
        {% endif %}
    </li>
    {% else %}
    <p>Er zijn nog geen geplande activiteiten.</p>
    {% endfor %}
</ul>

<script>
    //   ClassicEditor
    //     .create(document.querySelector('#editor'))
    //     .catch(error => { console.error(error); });
</script>
{% endblock %}